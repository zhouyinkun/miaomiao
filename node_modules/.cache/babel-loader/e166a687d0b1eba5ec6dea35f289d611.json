{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\Web\\project\\miaomiao\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\Web\\project\\miaomiao\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\Web\\project\\miaomiao\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\Web\\project\\miaomiao\\src\\components\\CiList\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\Web\\project\\miaomiao\\src\\components\\CiList\\index.vue","mtime":1581254681332},{"path":"C:\\Users\\Administrator\\Desktop\\Web\\project\\miaomiao\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580973554294},{"path":"C:\\Users\\Administrator\\Desktop\\Web\\project\\miaomiao\\node_modules\\babel-loader\\lib\\index.js","mtime":1580973553675},{"path":"C:\\Users\\Administrator\\Desktop\\Web\\project\\miaomiao\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1580973554294},{"path":"C:\\Users\\Administrator\\Desktop\\Web\\project\\miaomiao\\node_modules\\vue-loader\\lib\\index.js","mtime":1580973574382}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDaUxpc3QnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaW5lbWFMaXN0OiBbXSwKICAgICAgaXNMb2FkaW5nOiB0cnVlCiAgICB9OwogIH0sCiAgYWN0aXZhdGVkOiBmdW5jdGlvbiBhY3RpdmF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciBjaXR5SWQgPSB0aGlzLiRzdG9yZS5zdGF0ZS5jaXR5LmlkOwoKICAgIGlmICh0aGlzLnByZXZDaXR5SWQgPT09IGNpdHlJZCkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgdGhpcy5heGlvcy5nZXQoJy9hamF4L2NpbmVtYUxpc3Q/ZGF5PTIwMjAtMDItMDcmb2Zmc2V0PTAmbGltaXQ9MjAmZGlzdHJpY3RJZD0tMSZsaW5lSWQ9LTEmaGFsbFR5cGU9LTEmYnJhbmRJZD0tMSZzZXJ2aWNlSWQ9LTEmYXJlYUlkPS0xJnN0YXRpb25JZD0tMSZpdGVtPSZ1cGRhdGVTaG93RGF5PXRydWUmcmVxSWQ9MTU4MTA4MjEzMDIxOCZjaXR5SWQ9JyArIGNpdHlJZCArICcmb3B0aW11c191dWlkPUExRDFBRUEwNDk3QjExRUE4NDVBNzE5MTNGMkZGNzQ0MjJCOTJEODcxOTgxNDFFRkI3NjlCNEJENjAwQkFGREImb3B0aW11c19yaXNrX2xldmVsPTcxJm9wdGltdXNfY29kZT0xMCcpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBfdGhpcy5jaW5lbWFMaXN0ID0gcmVzLmRhdGEuY2luZW1hczsKICAgICAgX3RoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIF90aGlzLnByZXZDaXR5SWQgPSBjaXR5SWQ7CiAgICB9KTsKICB9LAogIGZpbHRlcnM6IHsKICAgIGZvcm1hdENhcmQ6IGZ1bmN0aW9uIGZvcm1hdENhcmQoa2V5KSB7CiAgICAgIHZhciBjYXJkID0gW3sKICAgICAgICBrZXk6ICdhbGxvd1JlZnVuZCcsCiAgICAgICAgdmFsdWU6ICfmlLnnrb4nCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdlbmRvcnNlJywKICAgICAgICB2YWx1ZTogJ+mAgCcKICAgICAgfSwgewogICAgICAgIGtleTogJ3NlbGwnLAogICAgICAgIHZhbHVlOiAn5oqY5omj5Y2hJwogICAgICB9LCB7CiAgICAgICAga2V5OiAnc25hY2snLAogICAgICAgIHZhbHVlOiAn5bCP5ZCDJwogICAgICB9XTsKCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FyZC5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChjYXJkW2ldLmtleSA9PT0ga2V5KSB7CiAgICAgICAgICByZXR1cm4gY2FyZFtpXS52YWx1ZTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiAnJzsKICAgIH0sCiAgICBjbGFzc0NhcmQ6IGZ1bmN0aW9uIGNsYXNzQ2FyZChrZXkpIHsKICAgICAgdmFyIGNhcmQgPSBbewogICAgICAgIGtleTogJ2FsbG93UmVmdW5kJywKICAgICAgICB2YWx1ZTogJ2JsJwogICAgICB9LCB7CiAgICAgICAga2V5OiAnZW5kb3JzZScsCiAgICAgICAgdmFsdWU6ICdibCcKICAgICAgfSwgewogICAgICAgIGtleTogJ3NlbGwnLAogICAgICAgIHZhbHVlOiAnb3InCiAgICAgIH0sIHsKICAgICAgICBrZXk6ICdzbmFjaycsCiAgICAgICAgdmFsdWU6ICdvcicKICAgICAgfV07CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNhcmQubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoY2FyZFtpXS5rZXkgPT09IGtleSkgewogICAgICAgICAgcmV0dXJuIGNhcmRbaV0udmFsdWU7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gJyc7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA;AAFA,KAAA;AAIA,GAPA;AAQA,EAAA,SARA,uBAQA;AAAA;;AACA,QAAA,MAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,EAAA;;AACA,QAAA,KAAA,UAAA,KAAA,MAAA,EAAA;AAAA;AAAA;;AACA,SAAA,SAAA,GAAA,IAAA;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,8LAAA,MAAA,GAAA,sHAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,UAAA,GAAA,GAAA,CAAA,IAAA,CAAA,OAAA;AACA,MAAA,KAAA,CAAA,SAAA,GAAA,KAAA;AACA,MAAA,KAAA,CAAA,UAAA,GAAA,MAAA;AACA,KAJA;AAKA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,GADA,EACA;AACA,UAAA,IAAA,GAAA,CACA;AAAA,QAAA,GAAA,EAAA,aAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,GAAA,EAAA,SAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAFA,EAGA;AAAA,QAAA,GAAA,EAAA,MAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAHA,EAIA;AAAA,QAAA,GAAA,EAAA,OAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAJA,CAAA;;AAMA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,IAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,IAAA,CAAA,CAAA,CAAA,CAAA,GAAA,KAAA,GAAA,EAAA;AACA,iBAAA,IAAA,CAAA,CAAA,CAAA,CAAA,KAAA;AACA;AACA;;AACA,aAAA,EAAA;AACA,KAdA;AAeA,IAAA,SAfA,qBAeA,GAfA,EAeA;AACA,UAAA,IAAA,GAAA,CACA;AAAA,QAAA,GAAA,EAAA,aAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,GAAA,EAAA,SAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAFA,EAGA;AAAA,QAAA,GAAA,EAAA,MAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAHA,EAIA;AAAA,QAAA,GAAA,EAAA,OAAA;AAAA,QAAA,KAAA,EAAA;AAAA,OAJA,CAAA;;AAMA,WAAA,IAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,IAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,YAAA,IAAA,CAAA,CAAA,CAAA,CAAA,GAAA,KAAA,GAAA,EAAA;AACA,iBAAA,IAAA,CAAA,CAAA,CAAA,CAAA,KAAA;AACA;AACA;;AACA,aAAA,EAAA;AACA;AA5BA;AAlBA,CAAA","sourcesContent":["<template>\n    <div class=\"cinema_body\">\n        <Loading v-if=\"isLoading\"/>\n        <Scroller v-else>\n            <ul>\n                <!-- <li>\n                    <div>\n                        <span>大地影院(澳东世纪店)</span>\n                        <span class=\"q\"><span class=\"price\">22.9</span> 元起</span>\n                    </div>\n                    <div class=\"address\">\n                        <span>金州区大连经济技术开发区澳东世纪3层</span>\n                        <span>1763.5km</span>\n                    </div>\n                    <div class=\"card\">\n                        <div>小吃</div>\n                        <div>折扣卡</div>\n                    </div>\n                </li> -->\n                <li v-for=\"item in cinemaList\" :key=\"item.id\">\n                    <div>\n                        <span>{{ item.nm }}</span>\n                        <span class=\"q\"><span class=\"price\">{{ item.sellPrice }}</span> 元起</span>\n                    </div>\n                    <div class=\"address\">\n                        <span>{{ item.addr }}</span>\n                        <span>{{ item.distance }}</span>\n                    </div>\n                    <div class=\"card\">\n                        <div v-for=\"(num,key) in item.tag\" v-if=\"num===1\" :key=\"key\" :class=\" key | classCard \">{{ key | formatCard }}</div>\n                    </div>\n                </li>\n            </ul>\n        </Scroller>\n    </div>\n</template>\n\n<script>\nexport default {\n    name : 'CiList',\n    data(){\n        return {\n            cinemaList : [],\n            isLoading : true,\n        };\n    },\n    activated(){\n        var cityId = this.$store.state.city.id;\n        if(this.prevCityId === cityId){return;}\n        this.isLoading = true;\n        this.axios.get('/ajax/cinemaList?day=2020-02-07&offset=0&limit=20&districtId=-1&lineId=-1&hallType=-1&brandId=-1&serviceId=-1&areaId=-1&stationId=-1&item=&updateShowDay=true&reqId=1581082130218&cityId='+cityId+'&optimus_uuid=A1D1AEA0497B11EA845A71913F2FF74422B92D87198141EFB769B4BD600BAFDB&optimus_risk_level=71&optimus_code=10').then((res)=>{\n            this.cinemaList = res.data.cinemas;\n            this.isLoading = false;\n            this.prevCityId = cityId;\n        });\n    },\n    filters : {\n        formatCard(key){\n            var card = [\n                { key : 'allowRefund' , value : '改签' },\n                { key : 'endorse' , value : '退' },\n                { key : 'sell' , value : '折扣卡' },\n                { key : 'snack' , value : '小吃'}\n            ];\n            for(var i=0;i<card.length;i++){\n                if(card[i].key === key){\n                    return card[i].value;\n                }\n            }\n            return '';\n        },\n        classCard(key){\n            var card = [\n                { key : 'allowRefund' , value : 'bl' },\n                { key : 'endorse' , value : 'bl' },\n                { key : 'sell' , value : 'or' },\n                { key : 'snack' , value : 'or'}\n            ];\n            for(var i=0;i<card.length;i++){\n                if(card[i].key === key){\n                    return card[i].value;\n                }\n            }\n            return '';\n        }\n    }\n}\n</script>\n\n<style scoped>\n#content .cinema_body{ flex:1; overflow:auto;}\n.cinema_body ul{ padding:20px;}\n.cinema_body li{  border-bottom:1px solid #e6e6e6; margin-bottom: 20px;}\n.cinema_body div{ margin-bottom: 10px;}\n.cinema_body .q{ font-size: 11px; color:#f03d37;}\n.cinema_body .price{ font-size: 18px;}\n.cinema_body .address{ font-size: 13px; color:#666;}\n.cinema_body .address span:nth-of-type(2){ float:right; }\n.cinema_body .card{ display: flex;}\n.cinema_body .card div{ padding: 0 3px; height: 15px; line-height: 15px; border-radius: 2px; color: #f90; border: 1px solid #f90; font-size: 13px; margin-right: 5px;}\n.cinema_body .card div.or{ color: #f90; border: 1px solid #f90;}\n.cinema_body .card div.bl{ color: #589daf; border: 1px solid #589daf;}\n</style>\n"],"sourceRoot":"src/components/CiList"}]}