{"map":{"version":3,"sources":["js/chunk-7b466f44.f5675826.js"],"names":["window","push","4e1c","module","exports","__webpack_require__","5361","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_89a995a8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_89a995a8_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","78a5","r","render","_vm","this","_h","$createElement","_c","_self","staticClass","ref","_v","_l","item","key","id","on","tap","$event","handleToCity","nm","_s","index","itemList","touchstart","handleToIndex","staticRenderFns","Cityvue_type_script_lang_js_","name","data","cityList","hotList","isLoading","mounted","_this","localStorage","getItem","JSON","parse","axios","get","then","res","msg","cities","_this$formatCityList","formatCityList","setItem","stringify","methods","i","length","isHot","firstLetter","py","substring","toUpperCase","toCom","list","j","sort","n1","n2","h2","$refs","city_sort","getElementsByTagName","city_List","ToScrollTop","offsetTop","$store","commit","$router","components_Cityvue_type_script_lang_js_","componentNormalizer","component","Object"],"mappings":"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"},"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-7b466f44\"],{\"4e1c\":function(t,i,n){},5361:function(t,i,n){\"use strict\";var s=n(\"4e1c\"),e=n.n(s);e.a},\"78a5\":function(t,i,n){\"use strict\";n.r(i);var s=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n(\"div\",{staticClass:\"city_body\"},[n(\"div\",{staticClass:\"city_list\"},[t.isLoading?n(\"Loading\"):n(\"Scroller\",{ref:\"city_List\"},[n(\"div\",[n(\"div\",{staticClass:\"city_hot\"},[n(\"h2\",[t._v(\"热门城市\")]),n(\"ul\",{staticClass:\"clearfix\"},t._l(t.hotList,(function(i){return n(\"li\",{key:i.id,on:{tap:function(n){return t.handleToCity(i.nm,i.id)}}},[t._v(t._s(i.nm))])})),0)]),n(\"div\",{ref:\"city_sort\",staticClass:\"city_sort\"},t._l(t.cityList,(function(i){return n(\"div\",{key:i.index},[n(\"h2\",[t._v(t._s(i.index))]),n(\"ul\",t._l(i.list,(function(i){return n(\"li\",{key:i.id,on:{tap:function(n){return t.handleToCity(i.nm,i.id)}}},[t._v(t._s(i.nm))])})),0)])})),0)])])],1),n(\"div\",{staticClass:\"city_index\"},[n(\"ul\",t._l(t.cityList,(function(i,s){return n(\"li\",{key:i.index,on:{touchstart:function(i){return t.handleToIndex(s)}}},[t._v(t._s(i.index))])})),0)])])},e=[],o={name:\"City\",data:function(){return{cityList:[],hotList:[],isLoading:!0}},mounted:function(){var t=this,i=window.localStorage.getItem(\"cityList\"),n=window.localStorage.getItem(\"hotList\");i&&n?(this.cityList=JSON.parse(i),this.hotList=JSON.parse(n),this.isLoading=!1):this.axios.get(\"/api/cityList\").then((function(i){var n=i.data.msg;if(\"ok\"===n){t.isLoading=!1;var s=i.data.data.cities,e=t.formatCityList(s),o=e.cityList,a=e.hotList;t.cityList=o,t.hotList=a,window.localStorage.setItem(\"cityList\",JSON.stringify(o)),window.localStorage.setItem(\"hotList\",JSON.stringify(a))}}))},methods:{formatCityList:function(t){for(var i=[],n=[],s=0;s<t.length;s++)1===t[s].isHot&&n.push(t[s]);for(s=0;s<t.length;s++){var e=t[s].py.substring(0,1).toUpperCase();if(a(e))i.push({index:e,list:[{nm:t[s].nm,id:t[s].id}]});else for(var o=0;o<i.length;o++)i[o].index===e&&i[o].list.push({nm:t[s].nm,id:t[s].id})}function a(t){for(var n=0;n<i.length;n++)if(i[n].index===t)return!1;return!0}return i.sort((function(t,i){return t.index>i.index?1:t.index<i.index?-1:0})),{cityList:i,hotList:n}},handleToIndex:function(t){var i=this.$refs.city_sort.getElementsByTagName(\"h2\");this.$refs.city_List.ToScrollTop(-i[t].offsetTop)},handleToCity:function(t,i){this.$store.commit(\"city/CITY_INFO\",{nm:t,id:i}),window.localStorage.setItem(\"nowNm\",t),window.localStorage.setItem(\"nowId\",i),this.$router.push(\"/movie/nowPlaying\")}}},a=o,r=(n(\"5361\"),n(\"2877\")),c=Object(r[\"a\"])(a,s,e,!1,null,\"89a995a8\",null);i[\"default\"]=c.exports}}]);","extractedComments":[]}